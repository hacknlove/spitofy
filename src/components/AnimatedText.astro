---
const text = Astro.props.text;
const random = -Math.random();
---

<span
  style={{
    animationDelay: `${random}s`,
  }}>{text}</span
>

<style lang="scss">
  span {
    display: inline-block;
    position: relative;

    animation:
      fontSize var(--eighth-note) ease-in-out infinite forwards,
      shift var(--eighth-note) ease-in-out infinite alternate;

    animation-play-state: paused;
  }

  body.playing span {
    animation-play-state: running;
  }

  @keyframes fontSize {
    0% {
      font-size: 101%;
    }
    50% {
      font-size: 100%;
    }
  }

  @keyframes shift {
    0%,
    40%,
    44%,
    58%,
    61%,
    65%,
    69%,
    73%,
    100% {
      transform: skewX(0deg);
    }

    41% {
      transform: skewX(10deg);
    }

    42% {
      transform: skewX(-10deg);
    }

    59% {
      transform: skewX(40deg) skewY(10deg);
    }

    60% {
      transform: skewX(-40deg) skewY(-10deg);
    }

    63% {
      transform: skewX(10deg) skewY(-5deg);
    }

    70% {
      transform: skewX(-50deg) skewY(-20deg);
    }

    71% {
      transform: skewX(10deg) skewY(-10deg);
    }
  }
</style>
